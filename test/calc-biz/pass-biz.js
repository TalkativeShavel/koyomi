//経過営業日(月)

var koyomi = require('../..').create();
var pass = koyomi.passBiz.bind(koyomi);
var eq = require('assert').equal;

//経過営業日(月)
eq(pass(20150501, 'm'),  1);
eq(pass(20150502, 'm'),  1);
eq(pass(20150503, 'm'),  1);
eq(pass(20150504, 'm'),  1);
eq(pass(20150505, 'm'),  1);
eq(pass(20150506, 'm'),  1);
eq(pass(20150507, 'm'),  2);
eq(pass(20150508, 'm'),  3);
eq(pass(20150509, 'm'),  3);
eq(pass(20150510, 'm'),  3);
eq(pass(20150511, 'm'),  4);
eq(pass(20150512, 'm'),  5);
eq(pass(20150513, 'm'),  6);
eq(pass(20150514, 'm'),  7);
eq(pass(20150515, 'm'),  8);
eq(pass(20150516, 'm'),  8);
eq(pass(20150517, 'm'),  8);
eq(pass(20150518, 'm'),  9);
eq(pass(20150519, 'm'), 10);
eq(pass(20150520, 'm'), 11);
eq(pass(20150521, 'm'), 12);
eq(pass(20150522, 'm'), 13);
eq(pass(20150523, 'm'), 13);
eq(pass(20150524, 'm'), 13);
eq(pass(20150525, 'm'), 14);
eq(pass(20150526, 'm'), 15);
eq(pass(20150527, 'm'), 16);
eq(pass(20150528, 'm'), 17);
eq(pass(20150529, 'm'), 18);
eq(pass(20150530, 'm'), 18);
eq(pass(20150531, 'm'), 18);

//経過営業日(年度)

eq(pass(20150101, 'y'),   0);
eq(pass(20151231, 'y'), 242);

koyomi.startMonth = 4;

eq(pass(20150401, 'y'),   1);
eq(pass(20150402, 'y'),   2);
eq(pass(20150403, 'y'),   3);
eq(pass(20150404, 'y'),   3);
eq(pass(20150405, 'y'),   3);
eq(pass(20150406, 'y'),   4);
eq(pass(20150407, 'y'),   5);
eq(pass(20150408, 'y'),   6);
eq(pass(20150409, 'y'),   7);
eq(pass(20150410, 'y'),   8);
eq(pass(20150411, 'y'),   8);
eq(pass(20150412, 'y'),   8);
eq(pass(20150413, 'y'),   9);
eq(pass(20150414, 'y'),  10);
eq(pass(20150415, 'y'),  11);
eq(pass(20150416, 'y'),  12);
eq(pass(20150417, 'y'),  13);
eq(pass(20150418, 'y'),  13);
eq(pass(20150419, 'y'),  13);
eq(pass(20150420, 'y'),  14);
eq(pass(20150421, 'y'),  15);
eq(pass(20150422, 'y'),  16);
eq(pass(20150423, 'y'),  17);
eq(pass(20150424, 'y'),  18);
eq(pass(20150425, 'y'),  18);
eq(pass(20150426, 'y'),  18);
eq(pass(20150427, 'y'),  19);
eq(pass(20150428, 'y'),  20);
eq(pass(20150429, 'y'),  20);
eq(pass(20150430, 'y'),  21);

eq(pass(20150501, 'y'),  22);
eq(pass(20150502, 'y'),  22);
eq(pass(20150503, 'y'),  22);
eq(pass(20150504, 'y'),  22);
eq(pass(20150505, 'y'),  22);
eq(pass(20150506, 'y'),  22);
eq(pass(20150507, 'y'),  23);
eq(pass(20150508, 'y'),  24);
eq(pass(20150509, 'y'),  24);
eq(pass(20150510, 'y'),  24);
eq(pass(20150511, 'y'),  25);
eq(pass(20150512, 'y'),  26);
eq(pass(20150513, 'y'),  27);
eq(pass(20150514, 'y'),  28);
eq(pass(20150515, 'y'),  29);
eq(pass(20150516, 'y'),  29);
eq(pass(20150517, 'y'),  29);
eq(pass(20150518, 'y'),  30);
eq(pass(20150519, 'y'),  31);
eq(pass(20150520, 'y'),  32);
eq(pass(20150521, 'y'),  33);
eq(pass(20150522, 'y'),  34);
eq(pass(20150523, 'y'),  34);
eq(pass(20150524, 'y'),  34);
eq(pass(20150525, 'y'),  35);
eq(pass(20150526, 'y'),  36);
eq(pass(20150527, 'y'),  37);
eq(pass(20150528, 'y'),  38);
eq(pass(20150529, 'y'),  39);
eq(pass(20150530, 'y'),  39);
eq(pass(20150531, 'y'),  39);

eq(pass(20160301, 'y'), 222);
eq(pass(20160302, 'y'), 223);
eq(pass(20160303, 'y'), 224);
eq(pass(20160304, 'y'), 225);
eq(pass(20160305, 'y'), 225);
eq(pass(20160306, 'y'), 225);
eq(pass(20160307, 'y'), 226);
eq(pass(20160308, 'y'), 227);
eq(pass(20160309, 'y'), 228);
eq(pass(20160310, 'y'), 229);
eq(pass(20160311, 'y'), 230);
eq(pass(20160312, 'y'), 230);
eq(pass(20160313, 'y'), 230);
eq(pass(20160314, 'y'), 231);
eq(pass(20160315, 'y'), 232);
eq(pass(20160316, 'y'), 233);
eq(pass(20160317, 'y'), 234);
eq(pass(20160318, 'y'), 235);
eq(pass(20160319, 'y'), 235);
eq(pass(20160320, 'y'), 235);
eq(pass(20160321, 'y'), 235);
eq(pass(20160322, 'y'), 236);
eq(pass(20160323, 'y'), 237);
eq(pass(20160324, 'y'), 238);
eq(pass(20160325, 'y'), 239);
eq(pass(20160326, 'y'), 239);
eq(pass(20160327, 'y'), 239);
eq(pass(20160328, 'y'), 240);
eq(pass(20160329, 'y'), 241);
eq(pass(20160330, 'y'), 242);
eq(pass(20160331, 'y'), 243);

